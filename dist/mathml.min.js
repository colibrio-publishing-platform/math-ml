(function(){"use strict";var o=Math.max;function e(e){let t=A.get(e.type);void 0===t&&(t=new Map,A.set(e.type,t));let n=t.get(e.strings);return void 0===n&&(n=new g(e,e.getTemplateElement()),t.set(e.strings,n)),n}function t(e,t){const{element:{content:r},parts:n}=e,o=document.createTreeWalker(r,q,null,!1);let i=B(n),d=n[i],a=-1,l=0;const s=[];for(let r=null;o.nextNode();){a++;const e=o.currentNode;for(e.previousSibling===r&&(r=null),t.has(e)&&(s.push(e),null===r&&(r=e)),null!==r&&l++;d!==void 0&&d.index===a;)d.index=null===r?d.index-l:-1,i=B(n,i),d=n[i]}s.forEach(e=>e.parentNode.removeChild(e))}function n(e,t,n=null){const{element:{content:o},parts:r}=e;if(null===n||void 0===n)return void o.appendChild(t);const i=document.createTreeWalker(o,q,null,!1);let d=B(r),a=0,l=-1;for(;i.nextNode();){l++;const e=i.currentNode;for(e===n&&(a=V(t),n.parentNode.insertBefore(t,n));-1!==d&&r[d].index===l;){if(0<a){for(;-1!==d;)r[d].index+=a,d=B(r,d);return}d=B(r,d)}}}function r(e){return te(e)}const i=new WeakMap,d=e=>"function"==typeof e&&i.has(e),a=window.customElements!==void 0&&window.customElements.polyfillWrapFlushCallback!==void 0,l=(e,t,n=null)=>{for(let r=t;r!==n;){const t=r.nextSibling;e.removeChild(r),r=t}},s={},p=`{{lit-${(Math.random()+"").slice(2)}}}`,c=`<!--${p}-->`,u=new RegExp(`${p}|${c}`),h=(()=>{const e=document.createElement("div");return e.setAttribute("style","{{bad value}}"),"{{bad value}}"!==e.getAttribute("style")})();class g{constructor(e,t){this.parts=[],this.element=t;let n=-1,r=0;const o=[],i=t=>{const d=t.content,a=document.createTreeWalker(d,133,null,!1);let l,s;for(;a.nextNode();){n++,l=s;const t=s=a.currentNode;if(1===t.nodeType){if(t.hasAttributes()){const o=t.attributes;let d=0;for(let e=0;e<o.length;e++)0<=o[e].value.indexOf(p)&&d++;for(;0<d--;){const o=e.strings[r],i=f.exec(o)[2],d=h&&"style"===i?"style$":/^[a-zA-Z-]*$/.test(i)?i:i.toLowerCase(),a=t.getAttribute(d),l=a.split(u);this.parts.push({type:"attribute",index:n,name:i,strings:l}),t.removeAttribute(d),r+=l.length-1}}"TEMPLATE"===t.tagName&&i(t)}else if(3===t.nodeType){const e=t.nodeValue;if(0>e.indexOf(p))continue;const d=t.parentNode,a=e.split(u),l=a.length-1;r+=l;for(let e=0;e<l;e++)d.insertBefore(""===a[e]?m():document.createTextNode(a[e]),t),this.parts.push({type:"node",index:n++});d.insertBefore(""===a[l]?m():document.createTextNode(a[l]),t),o.push(t)}else if(8===t.nodeType)if(t.nodeValue===p){const e=t.parentNode,i=t.previousSibling;null===i||i!==l||i.nodeType!==Node.TEXT_NODE?e.insertBefore(m(),t):n--,this.parts.push({type:"node",index:n++}),o.push(t),null===t.nextSibling?e.insertBefore(m(),t):n--,s=l,r++}else for(let e=-1;-1!==(e=t.nodeValue.indexOf(p,e+1));)this.parts.push({type:"node",index:-1})}};i(t);for(const r of o)r.parentNode.removeChild(r)}}const y=e=>-1!==e.index,m=()=>document.createComment(""),f=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(e,t,n){this._parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this._parts)void 0!==n&&n.setValue(e[t]),t++;for(const t of this._parts)void 0!==t&&t.commit()}_clone(){const e=a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=this.template.parts;let n=0,r=0;const o=e=>{const i=document.createTreeWalker(e,133,null,!1);for(let d=i.nextNode();n<t.length&&null!==d;){const e=t[n];if(!y(e))this._parts.push(void 0),n++;else if(r===e.index){if("node"===e.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(d),this._parts.push(e)}else this._parts.push(...this.processor.handleAttributeExpressions(d,e.name,e.strings,this.options));n++}else r++,"TEMPLATE"===d.nodeName&&o(d.content),d=i.nextNode()}};return o(e),a&&(document.adoptNode(e),customElements.upgrade(e)),e}}class P{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!0;for(let r=0;r<e;r++){const e=this.strings[r];t+=e;const o=e.lastIndexOf(">");n=(-1<o||n)&&-1===e.indexOf("<",o+1),!n&&h&&(t=t.replace(f,(e,t,n,r)=>"style"===n?`${t}style$${r}`:e)),t+=n?c:p}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const w=e=>null===e||"object"!=typeof e&&"function"!=typeof e;class v{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let r=0;r<n.length-1;r++)this.parts[r]=this._createPart()}_createPart(){return new S(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(null!=e&&(Array.isArray(e)||"string"!=typeof e&&e[Symbol.iterator]))for(const r of e)n+="string"==typeof r?r:r+"";else n+="string"==typeof e?e:e+""}}return n+=e[t],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===s||w(e)&&e===this.value||(this.value=e,!d(e)&&(this.committer.dirty=!0))}commit(){for(;d(this.value);){const e=this.value;this.value=s,e(this)}this.value===s||this.committer.commit()}}class _{constructor(e){this.value=void 0,this._pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(m()),this.endNode=e.appendChild(m())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e._insert(this.startNode=m()),e._insert(this.endNode=m())}insertAfterPart(e){e._insert(this.startNode=m()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this._pendingValue=e}commit(){for(;d(this._pendingValue);){const e=this._pendingValue;this._pendingValue=s,e(this)}const e=this._pendingValue;e===s||(w(e)?e!==this.value&&this._commitText(e):e instanceof P?this._commitTemplateResult(e):e instanceof Node?this._commitNode(e):Array.isArray(e)||e[Symbol.iterator]?this._commitIterable(e):e.then===void 0?this._commitText(e):this._commitPromise(e))}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_commitNode(e){this.value===e||(this.clear(),this._insert(e),this.value=e)}_commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._commitNode(document.createTextNode("string"==typeof e?e:e+"")),this.value=e}_commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value&&this.value.template===t)this.value.update(e.values);else{const n=new b(t,e.processor,this.options),r=n._clone();n.update(e.values),this._commitNode(r),this.value=n}}_commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const o of e)n=t[r],void 0===n&&(n=new _(this.options),t.push(n),0==r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(o),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}_commitPromise(e){this.value=e,e.then(t=>{this.value===e&&(this.setValue(t),this.commit())})}clear(e=this.startNode){l(this.startNode.parentNode,e.nextSibling,this.endNode)}}class N{constructor(e,t,n){if(this.value=void 0,this._pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this._pendingValue=e}commit(){for(;d(this._pendingValue);){const e=this._pendingValue;this._pendingValue=s,e(this)}if(this._pendingValue!==s){const e=!!this._pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=e,this._pendingValue=s}}}class x extends v{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new C(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class C extends S{}let E=!1;try{const e={get capture(){return E=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class R{constructor(e,t,n){this.value=void 0,this._pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n}setValue(e){this._pendingValue=e}commit(){for(;d(this._pendingValue);){const e=this._pendingValue;this._pendingValue=s,e(this)}if(this._pendingValue===s)return;const e=this._pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive);n&&this.element.removeEventListener(this.eventName,this,this._options),this._options=T(e),null!=e&&(null==t||n)&&this.element.addEventListener(this.eventName,this,this._options),this.value=e,this._pendingValue=s}handleEvent(e){const t="function"==typeof this.value?this.value:"function"==typeof this.value.handleEvent?this.value.handleEvent:()=>null;t.call(this.eventContext||this.element,e)}}const T=e=>e&&(E?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);const O=new class{handleAttributeExpressions(e,t,n,r){const o=t[0];if("."===o){const r=new x(e,t.slice(1),n);return r.parts}if("@"===o)return[new R(e,t.slice(1),r.eventContext)];if("?"===o)return[new N(e,t.slice(1),n)];const i=new v(e,t,n);return i.parts}handleTextExpression(e){return new _(e)}},A=new Map,D=new WeakMap,j=(t,n,r)=>{let o=D.get(n);o===void 0&&(l(n,n.firstChild),D.set(n,o=new _(Object.assign({templateFactory:e},r))),o.appendInto(n)),o.setValue(t),o.commit()},L=(e,...t)=>new P(e,t,"html",O),q=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,V=e=>{let t=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?0:1;for(const n=document.createTreeWalker(e,q,null,!1);n.nextNode();)t++;return t},B=(e,t=-1)=>{for(let n=t+1;n<e.length;n++){const t=e[n];if(y(t))return n}return-1},M=(e,t)=>`${e}--${t}`;let k=!0;"undefined"==typeof window.ShadyCSS?k=!1:"undefined"==typeof window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected.Please update to at least @webcomponents/webcomponentsjs@2.0.2 and@webcomponents/shadycss@1.3.1."),k=!1);const I=e=>t=>{const n=M(t.type,e);let r=A.get(n);r===void 0&&(r=new Map,A.set(n,r));let o=r.get(t.strings);if(o===void 0){const n=t.getTemplateElement();k&&window.ShadyCSS.prepareTemplateDom(n,e),o=new g(t,n),r.set(t.strings,o)}return o},z=["html","svg"],U=e=>{z.forEach(n=>{const r=A.get(M(n,e));r!==void 0&&r.forEach(e=>{const{element:{content:n}}=e,r=new Set;Array.from(n.querySelectorAll("style")).forEach(e=>{r.add(e)}),t(e,r)})})},W=new Set,H=(e,r,o)=>{W.add(o);const d=e.querySelectorAll("style");if(0!==d.length){const a=document.createElement("style");for(let e=0;e<d.length;e++){const t=d[e];t.parentNode.removeChild(t),a.textContent+=t.textContent}if(U(o),n(r,a,r.element.content.firstChild),window.ShadyCSS.prepareTemplateStyles(r.element,o),window.ShadyCSS.nativeShadow){const t=r.element.content.querySelector("style");e.insertBefore(t.cloneNode(!0),e.firstChild)}else{r.element.content.insertBefore(a,r.element.content.firstChild);const e=new Set;e.add(a),t(r,e)}}},F=(e,t,n)=>{const r=n.scopeName,o=D.has(t);if(j(e,t,Object.assign({templateFactory:I(r)},n)),t instanceof ShadowRoot&&k&&e instanceof P){if(!W.has(r)){const e=D.get(t),n=e.value;H(t,n.template,r)}o||window.ShadyCSS.styleElement(t.host)}},X=e=>null!==e,G=e=>e?"":null,$=(e,t)=>t!==e&&(t===t||e===e),Q={attribute:!0,type:String,reflect:!1,hasChanged:$},K=new Promise(e=>e(!0)),J=1,Y=4,Z=8;class ee extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=K,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this._finalize();const e=[];for(const[t,n]of this._classProperties){const r=this._attributeNameForProperty(t,n);r!==void 0&&(this._attributeToPropertyMap.set(r,t),e.push(r))}return e}static createProperty(e,t=Q){if(!this.hasOwnProperty("_classProperties")){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}if(this._classProperties.set(e,t),this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[n]},set(r){const o=this[e];this[n]=r,this._requestPropertyUpdate(e,o,t)},configurable:!0,enumerable:!0})}static _finalize(){if(this.hasOwnProperty("_finalized")&&this._finalized)return;const e=Object.getPrototypeOf(this);"function"==typeof e._finalize&&e._finalize(),this._finalized=!0,this._attributeToPropertyMap=new Map;const t=this.properties,n=[...Object.getOwnPropertyNames(t),...("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[])];for(const e of n)this.createProperty(e,t[e])}static _attributeNameForProperty(e,t){const n=t!==void 0&&t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,n=$){return n(e,t)}static _propertyValueFromAttribute(e,t){const n=t&&t.type;if(n===void 0)return e;const r=n===Boolean?X:"function"==typeof n?n:n.fromAttribute;return r?r(e):e}static _propertyValueToAttribute(e,t){if(void 0!==t&&void 0!==t.reflect){const n=t.type===Boolean?G:t.type&&t.type.toAttribute||String;return n(e)}}initialize(){this.renderRoot=this.createRenderRoot(),this._saveInstanceProperties()}_saveInstanceProperties(){for(const[e]of this.constructor._classProperties)if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}}_applyInstanceProperties(){for(const[e,t]of this._instanceProperties)this[e]=t;this._instanceProperties=void 0}createRenderRoot(){return this.attachShadow({mode:"open"})}connectedCallback(){this._updateState&J?window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this):this.requestUpdate()}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t,n=Q){const r=this.constructor,o=r._propertyValueToAttribute(t,n);if(o!==void 0){const t=r._attributeNameForProperty(e,n);t!==void 0&&(this._updateState|=Z,null===o?this.removeAttribute(t):this.setAttribute(t,o),this._updateState&=~Z)}}_attributeToProperty(e,t){if(!(this._updateState&Z)){const n=this.constructor,r=n._attributeToPropertyMap.get(e);if(r!==void 0){const e=n._classProperties.get(r);this[r]=n._propertyValueFromAttribute(t,e)}}}requestUpdate(e,t){if(e!==void 0){const n=this.constructor._classProperties.get(e)||Q;return this._requestPropertyUpdate(e,t,n)}return this._invalidate()}_requestPropertyUpdate(e,t,n){return this.constructor._valueHasChanged(this[e],t,n.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0===n.reflect&&(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,n)),this._invalidate()):this.updateComplete}async _invalidate(){if(!this._hasRequestedUpdate){this._updateState|=Y;let e;const t=this._updatePromise;this._updatePromise=new Promise(t=>e=t),await t,this._validate(),e(!this._hasRequestedUpdate)}return this.updateComplete}get _hasRequestedUpdate(){return this._updateState&Y}_validate(){if(this._instanceProperties&&this._applyInstanceProperties(),this.shouldUpdate(this._changedProperties)){const e=this._changedProperties;this.update(e),this._markUpdated(),this._updateState&J||(this._updateState|=J,this.firstUpdated(e)),this.updated(e)}else this._markUpdated()}_markUpdated(){this._changedProperties=new Map,this._updateState&=~Y}get updateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){if(this._reflectingProperties!==void 0&&0<this._reflectingProperties.size){for(const[e,t]of this._reflectingProperties)this._propertyToAttribute(e,this[e],t);this._reflectingProperties=void 0}}updated(){}firstUpdated(){}}ee._attributeToPropertyMap=new Map,ee._finalized=!0,ee._classProperties=new Map,ee.properties={};const te=e=>t=>(window.customElements.define(e,t),t),ne=e=>(t,n)=>{t.constructor.createProperty(n,e)};class re extends ee{update(e){super.update(e);const t=this.render();t instanceof P&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this})}render(){}}re.render=F;class oe extends re{}let ie=class extends oe{render(){return L`
    <style>
      :host {
        display: inline-block;
        font-size: inherit;
        font-style: normal;
        font-family: serif;
        line-height: 1.5;
        word-spacing: normal;
        letter-spacing: normal;
        text-rendering: optimizeLegibility;
        direction: ltr;
        unicode-bidi: embed;
      }
    </style>
    <slot></slot>
    `}};ie=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("math-ml")],ie);const de=`.layout.vertical {
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
  -ms-flex-direction: column;
  -webkit-flex-direction: column;
  flex-direction: column;
}`,ae=`.flex {
  -ms-flex: 1 1 0.000000001px;
  -webkit-flex: 1;
  flex: 1;
  -webkit-flex-basis: 0.000000001px;
  flex-basis: 0.000000001px;
}`,le=`.center {
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}`,se=L`
  ${de}
  ${".layout.horizontal {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -ms-flex-direction: row;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n}"}
  ${ae}
  ${le}
`,pe=L`
  ${de}
  ${ae}
`,ce=L`
  ${".layout.horizontal {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -ms-flex-direction: row;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n}"}
  ${ae}
`,ue=L`
  ${".layout.horizontal {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -ms-flex-direction: row;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n}"}
  ${ae}
  ${le}
`;let he=class extends oe{render(){return L`
    <style>
      ${ce}
      :host {
        display: inline-block;
      }
      .layout.horizontal {
        align-items: baseline;
      }
      .layout.horizontal.centered {
        align-items: center;
      }
    </style>
    <div id="mrowPanel" class="horizontal layout"><slot @slotchange="${this.onSlotChange}"></slot></div>
    `}onSlotChange(){if(!this.shadowRoot)return;const e=this.shadowRoot.querySelector("slot"),t=this.shadowRoot.querySelector("#mrowPanel");if(!e||!t)return;t.classList.remove("centered");const n=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE);let r=0,o=0,i=!1;for(let e=0;e<n.length;e++){const t=(n[e].textContent||"").trim();if("="===t){i=!0;break}const d=n[e].tagName.toLowerCase();switch(d){case"m-underover":case"m-under":case"m-over":case"m-subsup":o++;break;case"m-o":r++;break;default:}}i||!o||r||(i=!0),i&&t.classList.add("centered")}};he=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-row")],he);let ge=class extends oe{render(){return L`
    <style>
      :host {
        display: inline-block;
      }
    </style>
    <slot></slot>
    `}};ge=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-n")],ge);var ye=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},me=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let fe=class extends oe{constructor(){super(...arguments),this.formStyle=""}render(){return L`
    <style>
      :host {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
        position: relative;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      }
      :host(.mo-infix) {
        margin: 0 0.2em;
      }
      :host(.mo-separator) {
        margin: 0 0.2em 0 0;
      }
      :host(.mo-product) {
        margin: 0;
      }
      :host(.mo-begin-brace) {
        margin: 0 0.05em 0 0.2em;
      }
      :host(.mo-end-brace) {
        margin: 0 0.2em 0 0.05em;
      }
      :host(.mo-neut-brace) {
        margin: 0 0.16em;
      }
      :host(.mo-stretchy) {
        align-self: stretch;
      }
      :host(.mo-bigger) {
        line-height: 1.1;
        font-size: 1.8em;
      }
      .invisible {
        opacity: 0;
      }
      .fullWidthSpan {
        width: 100%;
        box-sizing: border-box;
        text-align: center;
      }
    </style>
    <span class="invisible"><slot @slotchange="${this.onSlotChange}"></slot></span>
    `}updated(){this.onSlotChange()}onSlotChange(){if(!this.shadowRoot)return;const e=this.shadowRoot.querySelector("span");if(!e)return;let t="";const n=(this.textContent||"").trim();","===n||";"===n?t="separator":"."===n||"\u22C5"===n?t="product":n.match(/^[\[{(]*$/)?t="begin-brace":n.match(/^[\]})]*$/)?t="end-brace":n.match(/^[|]*$/)&&(t="neut-brace"),this.classList.remove("mo-bigger"),n&&8704<=n.charCodeAt(0)&&8755>=n.charCodeAt(0)&&"sub"!==(getComputedStyle(this).getPropertyValue("--math-style-level")||"").trim()&&this.classList.add("mo-bigger");const r=t||"infix";this.formStyle!==r&&(this.formStyle&&this.classList.remove(this.formStyle),this.formStyle=`mo-${r}`,this.classList.add(this.formStyle));let o=this.stretchy&&"true"===this.stretchy.trim().toLowerCase();this.stretchy||("true"===getComputedStyle(this).getPropertyValue("--math-style-stretchy").trim()?o=!0:o="begin-brace"==t||"end-brace"==t||"neut-brace"==t),e.style.width=null,o?(e.classList.remove("fullWidthSpan"),this.classList.add("mo-stretchy"),e.style.lineHeight="1",setTimeout(()=>{if(e.style.transform)return;e.classList.remove("invisible");const t=e.getBoundingClientRect(),n=this.getBoundingClientRect(),r=t.height?n.height/t.height:1,o=t.width?n.width/t.width:1;1>=r&&(e.style.lineHeight=null),1!==o&&(e.style.width="100%"),e.style.transform=`scale(${o}, ${r})`},50)):(e.classList.add("fullWidthSpan"),this.classList.remove("mo-stretchy"),e.style.transform=null,e.style.lineHeight=null,e.classList.remove("invisible"))}};ye([ne({type:String}),me("design:type",String)],fe.prototype,"form",void 0),ye([ne({type:String}),me("design:type",String)],fe.prototype,"stretchy",void 0),fe=ye([r("m-o")],fe);let be=class extends oe{render(){return L`
    <style>
      :host {
        display: inline-block;
        font-style: italic;
      }
    </style>
    <slot></slot>
    `}};be=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-i")],be);var Pe=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},we=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ve=class extends oe{render(){return L`
    <style>
      :host {
        display: inline-block;
      }
      :host:before {
        content: "\\0022";
        margin-right: -0.2em;
      }
      :host:after {
        content: "\\0022";
        margin-left: -0.2em;
      }
      :host([lquote]):before {
        content: attr(lquote)
      }
      :host([rquote]):after {
        content: attr(rquote)
      }
    </style>
    <slot></slot>
    `}};Pe([ne({type:String,reflect:!0}),we("design:type",String)],ve.prototype,"lquote",void 0),Pe([ne({type:String,reflect:!0}),we("design:type",String)],ve.prototype,"rquote",void 0),ve=Pe([r("m-s")],ve);var Se=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},_e=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ne=class extends oe{constructor(){super(...arguments),this.width="0em",this.height="0ex",this.depth="0ex"}render(){return L`
    <style>
      :host {
        display: inline-block;
        vertical-align: top;
      }
    </style>
    `}updated(){this.style.width=this.width,this.style.height=this.height,this.style.marginBottom=this.depth}};Se([ne({type:String}),_e("design:type",Object)],Ne.prototype,"width",void 0),Se([ne({type:String}),_e("design:type",Object)],Ne.prototype,"height",void 0),Se([ne({type:String}),_e("design:type",Object)],Ne.prototype,"depth",void 0),Ne=Se([r("m-space")],Ne);let xe=class extends oe{render(){return L`
    <style>
      :host {
        display: inline-block;
        white-space: nowrap;
      }
    </style>
    <slot></slot>
    `}};xe=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-text")],xe);var Ce=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},Ee=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Re=class extends oe{constructor(){super(...arguments),this.width="auto",this.height="auto",this.valign="auto",this.alt=""}render(){const e=this.valign?0===this.valign.indexOf("-")?this.valign.substring(1):`-${this.valign}`:"0",t=this.src?`width: ${this.width||"auto"}; height: ${this.height||"auto"}; transform: translate3d(0,${e},0);`:"display: none;";return L`
    <style>
      :host {
        display: inline-block;
      }
      img {
        display: block;
      }
    </style>
    <img src="${this.src||""}" alt="${this.alt}" style="${t}">
    `}};Ce([ne({type:String}),Ee("design:type",String)],Re.prototype,"src",void 0),Ce([ne({type:String}),Ee("design:type",Object)],Re.prototype,"width",void 0),Ce([ne({type:String}),Ee("design:type",Object)],Re.prototype,"height",void 0),Ce([ne({type:String}),Ee("design:type",Object)],Re.prototype,"valign",void 0),Ce([ne({type:String}),Ee("design:type",Object)],Re.prototype,"alt",void 0),Re=Ce([r("m-glyph")],Re);var Te=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},Oe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Ae extends oe{updateAlignment(){const e=this.style;if(this.columnalign)switch(this.columnalign){case"left":e.setProperty("--math-ml-columnalign","left");break;case"right":e.setProperty("--math-ml-columnalign","right");break;default:case"center":e.setProperty("--math-ml-columnalign","center");}if(this.rowalign)switch(this.rowalign){case"baseline":e.setProperty("--math-ml-rowalign","baseline");break;case"bottom":e.setProperty("--math-ml-rowalign","bottom");break;case"axis":case"center":e.setProperty("--math-ml-rowalign","middle");break;case"top":e.setProperty("--math-ml-rowalign","top");break;default:e.removeProperty("--math-ml-rowalign");}}}Te([ne({type:String}),Oe("design:type",String)],Ae.prototype,"columnalign",void 0),Te([ne({type:String}),Oe("design:type",String)],Ae.prototype,"rowalign",void 0);let De=class extends Ae{render(){return L`
    <style>
      :host {
        display: table-cell;
        text-align: var(--math-ml-columnalign);
        vertical-align: var(--math-ml-rowalign);
        padding-left: var(--math-table-columnspacing);
        padding-right: var(--math-table-columnspacing);
        padding-top: var(--math-table-rowspacing);
        padding-bottom: var(--math-table-rowspacing);
        padding-left: calc(var(--math-table-columnspacing)/2);
        padding-right: calc(var(--math-table-columnspacing)/2);
        padding-top: calc(var(--math-table-rowspacing)/2);
        padding-bottom: calc(var(--math-table-rowspacing)/2);
        border-bottom: var(--math-table-row-border);
        border-right: var(--math-table-column-border);
      }
    </style>
    <slot></slot>
    `}updated(){this.updateAlignment()}};De=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-td")],De);let je=class extends Ae{render(){return L`
    <style>
      :host {
        display: table-row;
      }
      slot::slotted(m-td:last-child) {
        --math-table-column-border: none;
      }
    </style>
    <slot @slotchange="${this.refreshSlot}"></slot>
    `}updated(){this.updateAlignment(),this.refreshSlot()}refreshSlot(){if(this.shadowRoot){const e=this.shadowRoot.querySelector("slot");if(e&&this.columnalign){const t=this.columnalign.trim().split(" ").filter(e=>!!e.trim());if(1<t.length){const n=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE).filter(e=>"M-TD"===e.tagName);for(let e=0;e<t.length&&!(e>=n.length);e++)n[e].columnalign=t[e]}}}}};je=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-tr")],je);let Le=class extends Ae{render(){return L`
    <style>
      :host {
        display: table-row;
      }
      slot::slotted(m-td:first-child) {
        display: none;
      }
      slot::slotted(m-td:last-child) {
        --math-table-column-border: none;
      }
    </style>
    <slot></slot>
    `}updated(){this.updateAlignment()}};Le=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-labeledtr")],Le);var qe=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},Ve=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Be=class extends Ae{constructor(){super(),this.columnlines="none",this.rowlines="none",this.frame="none",this.columnspacing="0.8em",this.rowspacing="0.8em",this.framespacing="0.4em 0.5ex",this.columnalign=this.columnalign||"center"}render(){return L`
    <style>
      :host {
        display: inline-table;
        border: var(--math-table-border, 'none');
        padding: var(--math-table-padding, 0.5ex 0.4em);
        width: var(--math-table-width);
      }
      slot::slotted(m-tr:last-child) {
        --math-table-row-border: none;
      }
    </style>
    <slot></slot>
    `}updated(){this.updateAlignment();const e=this.style;if(this.frame)switch(this.frame){case"none":e.setProperty("--math-table-border","none");break;case"solid":e.setProperty("--math-table-border","solid thin");break;case"dashed":e.setProperty("--math-table-border","dashed thin");break;default:e.removeProperty("--math-table-border");}if(this.rowlines)switch(this.rowlines){case"none":e.setProperty("--math-table-row-border","none");break;case"solid":e.setProperty("--math-table-row-border","solid thin");break;case"dashed":e.setProperty("--math-table-row-border","dashed thin");break;default:e.removeProperty("--math-table-row-border");}if(this.columnlines)switch(this.columnlines){case"none":e.setProperty("--math-table-column-border","none");break;case"solid":e.setProperty("--math-table-column-border","solid thin");break;case"dashed":e.setProperty("--math-table-column-border","dashed thin");break;default:e.removeProperty("--math-table-column-border");}if(this.framespacing){const t=this.framespacing.split(" ").reverse();e.setProperty("--math-table-padding",t.join(" "))}else e.removeProperty("--math-table-padding");if(this.width?e.setProperty("--math-table-width",this.width):e.removeProperty("--math-table-width"),this.columnspacing?e.setProperty("--math-table-columnspacing",this.columnspacing):e.removeProperty("--math-table-columnspacing"),this.rowspacing?e.setProperty("--math-table-rowspacing",this.columnspacing):e.removeProperty("--math-table-rowspacing"),this.columnalign){const e=this.columnalign.trim().split(" ").filter(e=>!!e.trim());if(1<e.length){const e=this.shadowRoot.querySelector("slot");e&&e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE).filter(e=>"M-TR"===e.tagName||"M-LABELEDTR"===e.tagName).forEach(e=>{const t=e;t.columnalign=t.columnalign||this.columnalign.trim()})}}}};qe([ne({type:String}),Ve("design:type",String)],Be.prototype,"columnlines",void 0),qe([ne({type:String}),Ve("design:type",String)],Be.prototype,"rowlines",void 0),qe([ne({type:String}),Ve("design:type",String)],Be.prototype,"frame",void 0),qe([ne({type:String}),Ve("design:type",Object)],Be.prototype,"columnspacing",void 0),qe([ne({type:String}),Ve("design:type",Object)],Be.prototype,"rowspacing",void 0),qe([ne({type:String}),Ve("design:type",Object)],Be.prototype,"framespacing",void 0),qe([ne({type:String}),Ve("design:type",String)],Be.prototype,"width",void 0),Be=qe([r("m-table"),Ve("design:paramtypes",[])],Be);let Me=class extends oe{render(){return L`
    <style>
      ${ce}
      :host {
        display: inline-block;
        position: relative;
      }
      ::slotted(:first-child) {
        padding-right: 0.16em;
      }
      ::slotted(:not(:first-child)) {
        font-size: 0.8em;
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
        position: absolute;
        left: 100%;
        opacity: 0;
        line-height: 1;
      }
    </style>
    <div class="horizontal layout">
      <slot @slotchange="${this.refreshSlot}"></slot>
    </div>
    `}refreshSlot(){if(!this.shadowRoot)return;const e=this.shadowRoot.querySelector("slot");if(!e)return;const t=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE);1<t.length&&setTimeout(()=>{const e=t[0].getBoundingClientRect(),n=t[1],r=n.getBoundingClientRect();n.style.opacity="1";const o=[0,0],i=r.bottom-(e.bottom-e.height/2);0<i&&(n.style.top=`${-i}px`,o[0]=i),o[1]=r.width+3,this.style.margin=`${o[0]}px ${o[1]}px 0 0`},50)}};Me=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-sup")],Me);let ke=class extends oe{render(){return L`
    <style>
      ${ce}
      :host {
        display: inline-block;
        position: relative;
      }
      ::slotted(:first-child) {
        padding-right: 0.16em;
      }
      ::slotted(:not(:first-child)) {
        font-size: 0.8em;
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
        position: absolute;
        left: 100%;
        opacity: 0;
        line-height: 1;
      }
    </style>
    <div class="horizontal layout">
      <slot @slotchange="${this.refreshSlot}"></slot>
    </div>
    `}refreshSlot(){if(!this.shadowRoot)return;const e=this.shadowRoot.querySelector("slot");if(!e)return;const t=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE);1<t.length&&setTimeout(()=>{const e=t[0].getBoundingClientRect(),n=t[1],r=n.getBoundingClientRect();n.style.opacity="1";const o=[0,0],i=e.height/2;let d=i;i+r.height<e.height?d=e.height-r.height:o[0]=i+r.height-e.height,n.style.top=`${d}px`,o[1]=r.width+3,this.style.margin=`0 ${o[1]}px ${o[0]}px 0`},50)}};ke=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-sub")],ke);let Ie=class extends oe{render(){return L`
    <style>
      ${ce}
      :host {
        display: inline-block;
        position: relative;
      }
      ::slotted(:first-child) {
        padding-right: 0.16em;
      }
      ::slotted(:not(:first-child)) {
        font-size: 0.75em;
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
        position: absolute;
        left: 100%;
        opacity: 0;
        line-height: 1;
      }
    </style>
    <div class="horizontal layout">
      <slot @slotchange="${this.refreshSlot}"></slot>
    </div>
    `}refreshSlot(){if(!this.shadowRoot)return;const e=this.shadowRoot.querySelector("slot");if(!e)return;const t=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE);2<t.length&&setTimeout(()=>{const e=t[0].getBoundingClientRect(),n=t[1],r=t[2],i=n.getBoundingClientRect(),d=r.getBoundingClientRect();n.style.opacity="1",r.style.opacity="1";const a=[0,0,0],l=e.height/2;let s=l;l+i.height<e.height?s=e.height-i.height:a[2]=l+i.height-e.height,n.style.top=`${s}px`,a[1]=i.width+3,s=d.bottom-(e.bottom-e.height/2),0<s&&(r.style.top=`${-s}px`,a[0]=s),a[1]=o(d.width+3,a[1]),this.style.margin=`${a[0]}px ${a[1]}px ${a[2]}px 0`},50)}};Ie=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-subsup")],Ie);let ze=class extends oe{render(){return L`
    <style>
      ${se}
      :host {
        display: inline-block;
      }
      .sup {
        font-size: 0.75em;
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
      }
      .sub {
        font-size: 0.75em;
        align-self: flex-end;
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
      }
      #cScriptPanel * {
        padding: 0.3em 0.16em;
      }
      #lScriptPanel .sub {
        transform: translateX(100%);
      }
      #rScriptPanel .sup {
        transform: translateX(-100%);
      }
    </style>
    <div class="horizontal layout">
      <div id="lScriptPanel" class="horizontal layout"></div>
      <div id="cScriptPanel"></div>
      <div id="rScriptPanel" class="horizontal layout"></div>
    </div>
    <div style="display: hidden;">
      <slot @slotchange="${this.refreshSlot}"></slot>
    </div>
    `}updated(){this.refreshSlot()}clearNodes(e){e.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})}refreshSlot(){if(this.shadowRoot){const e=this.shadowRoot.querySelector("slot");if(e){const t=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE);if((1!==t.length||t[0].tagName!=="m-prescripts".toUpperCase())&&t.length){const e=this.shadowRoot.querySelector("#lScriptPanel"),r=this.shadowRoot.querySelector("#rScriptPanel"),n=this.shadowRoot.querySelector("#cScriptPanel");this.clearNodes([e,n,r]),n.appendChild(t[0]);let o=0;const d=[],a=[];let l=a;for(let e=1;e<t.length;e++){const r=t[e];r.tagName==="m-prescripts".toUpperCase()?(l=d,o=0):(o%2?r.classList.add("sup"):r.classList.add("sub"),l.push(r),o++)}d.forEach(t=>e.appendChild(t)),a.forEach(e=>r.appendChild(e))}}}}};ze=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-multiscripts")],ze);let Ue=class extends oe{render(){return L`
    <style>
      :host {
        width: 0;
        height: 0;
        display: none;
      }
    </style>
    `}};Ue=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-prescripts")],Ue);let We=class extends oe{render(){return L`
    <style>
      :host {
        height: 0;
        width: 0;
        padding: 0 3px;
      }
    </style>
    `}};We=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-none")],We);var He=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},Fe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Xe=class extends oe{constructor(){super(...arguments),this.accent=!1,this.align="center"}render(){return L`
    <style>
      ${pe}
      :host {
        display: inline-block;
        margin: 0 0.16em;
      }
      .vertical.layout.reverse {
        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      }
      ::slotted(:not(:first-child)) {
        width: 100%;
        line-height: 1;
        margin: 0;
        text-align: var(--math-over-align, center);
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
        font-size: var(--math-over-font-size, 0.8em);
        --math-style-stretchy: true;
      }
    </style>
    <div class="vertical layout reverse">
      <slot></slot>
    </div>
    `}updated(){const e=this.style;switch(this.align){case"right":e.setProperty("--math-over-align","right");break;case"left":e.setProperty("--math-over-align","left");break;default:e.setProperty("--math-over-align","center");}e.setProperty("--math-over-font-size",this.accent?"1em":"0.8em")}};He([ne({type:Boolean,reflect:!0}),Fe("design:type",Object)],Xe.prototype,"accent",void 0),He([ne(),Fe("design:type",String)],Xe.prototype,"align",void 0),Xe=He([r("m-over")],Xe);var Ge=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},$e=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Qe=class extends oe{constructor(){super(...arguments),this.accentunder=!1,this.align="center"}render(){return L`
    <style>
      ${pe}
      :host {
        display: inline-block;
        margin: 0 0.16em;
      }
      ::slotted(:not(:first-child)) {
        width: 100%;
        line-height: 1;
        margin: 0;
        text-align: var(--math-under-align, center);
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
        font-size: var(--math-under-font-size, 0.8em);
        --math-style-stretchy: true;
      }
    </style>
    <div class="vertical layout">
      <slot></slot>
    </div>
    `}updated(){const e=this.style;switch(this.align){case"right":e.setProperty("--math-under-align","right");break;case"left":e.setProperty("--math-under-align","left");break;default:e.setProperty("--math-under-align","center");}e.setProperty("--math-under-font-size",this.accentunder?"1em":"0.8em")}};Ge([ne({type:Boolean,reflect:!0}),$e("design:type",Object)],Qe.prototype,"accentunder",void 0),Ge([ne(),$e("design:type",String)],Qe.prototype,"align",void 0),Qe=Ge([r("m-under")],Qe);var Ke=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},Je=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ye=class extends oe{constructor(){super(...arguments),this.accent=!1,this.accentunder=!1,this.align="center"}render(){return L`
    <style>
      ${pe}
      :host {
        display: inline-block;
        margin: 0 0.16em;
      }
      .vertical.layout.reverse {
        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      }
      .under {
        width: 100%;
        line-height: 1;
        margin: 0;
        text-align: var(--math-underover-align, center);
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
        font-size: var(--math-under-font-size, 0.75em);
        --math-style-stretchy: true;
      }
      .over {
        width: 100%;
        line-height: 1;
        margin: 0;
        text-align: var(--math-underover-align, center);
        --math-style-level: sub;
        counter-increment: math-style-scriptlevel;
        font-size: var(--math-over-font-size, 0.75em);
        --math-style-stretchy: true;
      }
      .base {
        margin: 0;
      }
    </style>
    <div id="muoPanel" class="vertical layout"></div>
    <div style="display: hidden;">
      <slot @slotchange="${this.refreshSlot}"></slot>
    </div>
    `}updated(){const e=this.style;switch(this.align){case"right":e.setProperty("--math-underover-align","right");break;case"left":e.setProperty("--math-underover-align","left");break;default:e.setProperty("--math-underover-align","center");}e.setProperty("--math-under-font-size",this.accentunder?"1em":"0.75em"),e.setProperty("--math-over-font-size",this.accent?"1em":"0.75em"),this.refreshSlot()}refreshSlot(){if(this.shadowRoot){const e=this.shadowRoot.querySelector("slot");if(e){const t=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE);if(t.length){const e=this.shadowRoot.querySelector("#muoPanel");for(;e.firstChild;)e.removeChild(e.firstChild);2<t.length&&(t[2].classList.add("over"),e.appendChild(t[2])),t[0].classList.add("base"),e.append(t[0]),1<t.length&&(t[1].classList.add("under"),e.appendChild(t[1]))}}}}};Ke([ne({type:Boolean,reflect:!0}),Je("design:type",Object)],Ye.prototype,"accent",void 0),Ke([ne({type:Boolean,reflect:!0}),Je("design:type",Object)],Ye.prototype,"accentunder",void 0),Ke([ne(),Je("design:type",String)],Ye.prototype,"align",void 0),Ye=Ke([r("m-underover")],Ye);let Ze=class extends oe{render(){return L`
    <style>
      ${ce}
      :host {
        display: inline-block;
        vertical-align: bottom;
        align-self: center;
      }
      .msqrtContent {
        padding: 1px 0.05em 0 0.2em;
        border-top: solid thin;
        white-space: nowrap;
      }
      #msqrtGlyphSpan {
        width: 1.1em;
        position: relative;
      }
      svg {
        position: absolute;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
      }
      path {
        fill: none;
        stroke: currentColor;
        stroke-width: 1;
      }
    </style>
    <div class="horizontal layout">
      <div id="msqrtGlyphSpan"><svg><path id="rootPath"></path></svg></div>
      <div class="flex msqrtContent"><slot @slotchange="${this.onSlotCange}"></slot></div>
    </div>
    `}updated(){this.onSlotCange()}onSlotCange(){if(this.shadowRoot){const e=this.shadowRoot.querySelector("slot");e&&setTimeout(()=>{this.drawRoot()},10)}}drawRoot(){const e=this.shadowRoot.querySelector("#msqrtGlyphSpan"),t=this.shadowRoot.querySelector("#rootPath");if(e&&t){const n=e.getBoundingClientRect(),r=n.width,o=n.height;t.setAttribute("d",`M0 ${.55*o} H${.13*r} L${.45*r} ${o-2} L${r} 0`)}}};Ze=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-sqrt")],Ze);let et=class extends oe{render(){return L`
    <style>
      ${ce}
      :host {
        display: inline-block;
        vertical-align: bottom;
      }
      .msqrtContent {
        padding: 1px 0.05em 0 0.2em;
        border-top: solid thin;
        white-space: nowrap;
      }
      #msqrtGlyphSpan {
        width: 1.1em;
        position: relative;
      }
      svg {
        position: absolute;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
      }
      path {
        fill: none;
        stroke: currentColor;
        stroke-width: 1;
      }
      ::slotted(:not(:first-child)) {
        font-size: 0.66em;
        position: absolute;
        top: 52%;
        right: 57%;
        transform: translate3d(-100%,-100%,0);
      }
    </style>
    <div class="horizontal layout" style="position: relative;">
      <div id="msqrtGlyphSpan"><svg><path id="rootPath"></path></svg></div>
      <div class="flex msqrtContent"><slot @slotchange="${this.onSlotCange}"></slot></div>
    </div>
    `}updated(){this.onSlotCange()}onSlotCange(){if(this.shadowRoot){const e=this.shadowRoot.querySelector("slot");e&&setTimeout(()=>{this.drawRoot()},10)}}drawRoot(){const e=this.shadowRoot.querySelector("#msqrtGlyphSpan"),t=this.shadowRoot.querySelector("#rootPath");if(e&&t){const n=e.getBoundingClientRect(),r=n.width,o=n.height;t.setAttribute("d",`M0 ${.55*o} H${.13*r} L${.45*r} ${o-2} L${r} 0`)}}};et=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-root")],et);var tt=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},nt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let rt=class extends oe{constructor(){super(...arguments),this.bevelled=!1,this.numalign="center",this.denomalign="center"}render(){let e="stroke-width: 1;",t="border-top: solid thin;";return this.linethickness&&"0"===this.linethickness.trim().charAt(0)&&(e="stroke-width: 0;",t=""),L`
    <style>
      :host {
        display: inline-block;
        vertical-align: middle;
        align-self: self-start;
        margin: 0 0.16em;
      }
      #mfracN, #mfracD {
        font-size: 0.9em;
        --math-style-level: sub;
      }
      #mfracPanel.unbevelled {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      }
      #mfracPanel.bevelled {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      }
      #mfracPanel.bevelled #mfracN{
        transform: translateY(-0.3em);
      }
      #mfracPanel.bevelled #mfracD{
        transform: translateY(0.3em);
      }
      #mfracDivider.unbevelled {
        width: 100%;
        border-top: 1px solid;
      }
      #bevelledDivider {
        min-width: 6px;
        position: relative;
        margin: 0 0.2em;
      }
      #unbevelledDivider {
        width: 100%;
        height: 0;
      }
      .hidden {
        display: none !important;
      }
      svg {
        position: absolute;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
      }
      path {
        fill: none;
        stroke: currentColor;
      }
    </style>
    <div id="mfracPanel">
      <div id="mfracN"></div>
      <div id="bevelledDivider" class="hidden">&nbsp;<svg><path id="bevelledPath" style="${e}"></path></svg></div>
      <div id="unbevelledDivider" style="${t}"></div>
      <div id="mfracD"></div>
    </div>
    <div style="display: hidden;"><slot @slotchange="${this.refreshSlot}"></slot></div>
    `}updated(){this.refreshSlot()}refreshSlot(){if(this.shadowRoot){const e=this.shadowRoot.querySelector("slot");if(e){const t=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE);if(1<t.length){const e=this.shadowRoot.querySelector("#mfracN"),n=this.shadowRoot.querySelector("#mfracD");e.appendChild(t[0]),n.appendChild(t[1]);for(let e=2;e<t.length;e++)t[e].parentElement&&t[e].parentElement.removeChild(t[e])}this.updateBevlled()}}}updateBevlled(){const e=this.shadowRoot.querySelector("#mfracPanel"),t=this.shadowRoot.querySelector("#mfracN"),n=this.shadowRoot.querySelector("#mfracD"),r=this.shadowRoot.querySelector("#bevelledDivider"),o=this.shadowRoot.querySelector("#unbevelledDivider");t.style.textAlign=this.numalign,n.style.textAlign=this.denomalign,this.bevelled?(e.classList.remove("unbevelled"),e.classList.add("bevelled"),r.classList.remove("hidden"),o.classList.add("hidden"),setTimeout(()=>{this.drawBevelledDivider()},10)):(e.classList.remove("bevelled"),e.classList.add("unbevelled"),r.classList.add("hidden"),o.classList.remove("hidden"))}drawBevelledDivider(){const e=this.shadowRoot.querySelector("#bevelledDivider"),t=this.shadowRoot.querySelector("#bevelledPath");if(e&&t){const n=e.getBoundingClientRect(),r=n.width,o=n.height;t.setAttribute("d",`M0 ${o} L${r} 0`)}}};tt([ne({type:Boolean}),nt("design:type",Object)],rt.prototype,"bevelled",void 0),tt([ne({type:String}),nt("design:type",String)],rt.prototype,"numalign",void 0),tt([ne({type:String}),nt("design:type",String)],rt.prototype,"denomalign",void 0),tt([ne({type:String}),nt("design:type",String)],rt.prototype,"linethickness",void 0),rt=tt([r("m-frac")],rt);var ot=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s};const it="http://www.w3.org/2000/svg";let dt=class extends oe{constructor(){super(...arguments),this.notation="longdiv"}render(){return L`
    <style>
      :host {
        display: inline-block;
        position: relative;
      }
      svg {
        position: absolute;
        left: 0;
        top: 0;
        pointer-events: none;
      }
      ellipse, path {
        fill: none;
        stroke: currentColor;
        stroke-width: 1;
      }
    </style>
    <div id="menclosePanel"><slot @slotchange="${this.refresh}"></slot></div>
    <svg></svg>
    `}updated(){this.refresh()}refresh(){this.shadowRoot&&this.shadowRoot.querySelector("svg")&&this.shadowRoot.querySelector("slot")&&setTimeout(()=>this.redraw(),100)}adjustPadding(e,t){for(let n=0;n<t.length;n++)e[n]=o(e[n],t[n])}redraw(){const e=this.shadowRoot.querySelector("svg"),n=this.shadowRoot.querySelector("#menclosePanel"),r=this.getBoundingClientRect(),o=[0,0,0,0],i=(this.notation||"").trim().split(" ").filter(e=>!!e.trim());i.forEach(e=>{switch(e){case"longdiv":this.adjustPadding(o,[2,0,0,12]);break;case"actuarial":this.adjustPadding(o,[2,2,0,0]);break;case"radical":this.adjustPadding(o,[2,0,0,18]);break;case"phasorangle":this.adjustPadding(o,[0,0,2,16]);break;case"circle":this.adjustPadding(o,[2,4,2,4]);break;default:this.adjustPadding(o,[1,1,1,1]);}}),n.style.padding=o.join("px ").trim()+"px";const d=r.width+o[1]+o[3],a=r.height+o[0]+o[2];for(e.style.width=`${d}px`,e.style.height=`${a}px`;e.firstChild;)e.removeChild(e.firstChild);n.style.borderTop=null,n.style.borderBottom=null,n.style.borderLeft=null,n.style.borderRight=null,n.style.borderRadius=null,i.forEach(r=>{var t=Math.cos,o=Math.sin,i=Math.PI;switch(r){case"longdiv":{const t=document.createElementNS(it,"path");t.setAttribute("d",`M0 1 H ${d} M0 1 C 8 ${.33*a} 8 ${.66*a} 0 ${a}`),e.appendChild(t);break}case"actuarial":n.style.borderRight="1px solid",n.style.borderTop="1px solid";break;case"radical":{const t=document.createElementNS(it,"path");t.setAttribute("d",`M0 ${.55*a} H${.13*18} L${.45*18} ${a-2} L${18} 1 L${d} 1`),e.appendChild(t);break}case"box":n.style.borderRight="1px solid",n.style.borderTop="1px solid",n.style.borderLeft="1px solid",n.style.borderBottom="1px solid";break;case"roundedbox":n.style.borderRight="1px solid",n.style.borderTop="1px solid",n.style.borderLeft="1px solid",n.style.borderBottom="1px solid",n.style.borderRadius="5px";break;case"circle":{const t=document.createElementNS(it,"ellipse");t.setAttribute("cx",`${d/2}`),t.setAttribute("cy",`${a/2}`),t.setAttribute("rx",`${d/2-2}`),t.setAttribute("ry",`${a/2-2}`),e.appendChild(t);break}case"left":n.style.borderLeft="1px solid";break;case"right":n.style.borderRight="1px solid";break;case"top":n.style.borderTop="1px solid";break;case"bottom":n.style.borderBottom="1px solid";break;case"madruwb":n.style.borderRight="1px solid",n.style.borderBottom="1px solid";break;case"updiagonalstrike":{const t=document.createElementNS(it,"path");t.setAttribute("d",`M1 ${a-1} L${d-1} ${1}`),e.appendChild(t);break}case"downdiagonalstrike":{const t=document.createElementNS(it,"path");t.setAttribute("d",`M1 1 L${d-1} ${a-1}`),e.appendChild(t);break}case"verticalstrike":{const t=document.createElementNS(it,"path");t.setAttribute("d",`M${d/2} 1 L${d/2} ${a-1}`),e.appendChild(t);break}case"horizontalstrike":{const t=document.createElementNS(it,"path");t.setAttribute("d",`M1 ${a/2} L${d-1} ${a/2}`),e.appendChild(t);break}case"updiagonalarrow":{const n=document.createElementNS(it,"path");n.setAttribute("d",`M1 ${a-1} L${d-1} ${1}`),e.appendChild(n);const r=Math.atan(a/d),l=i/2-r-i/6,s=i/6+l,p=8*o(l),c=8*t(l),u=document.createElementNS(it,"path");u.setAttribute("d",`M${d-1} ${1} L${d-1-p} ${1+c} l${8*-t(s)} ${8*-o(s)} Z`),u.style.fill="currentColor",e.appendChild(u);break}case"phasorangle":{const t=document.createElementNS(it,"path");t.setAttribute("d",`M16 1 L1 ${a-1} L${d} ${a-1}`),e.appendChild(t);break}default:}})}};ot([ne({type:String}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],dt.prototype,"notation",void 0),dt=ot([r("m-enclose")],dt);let at=class extends oe{render(){return L`
    <style>
      :host {
        display: inline-block;
        visibility: hidden;
      }
    </style>
    <slot></slot>
    `}};at=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-phantom")],at);let lt=class extends oe{render(){return L`
    <style>
      :host {
        display: inline-block;
        background: rgb(255, 255, 221);
        border: 1px solid red;
        font-weight: bold;
        font-family: sans-serif;
        font-size: 1.1em;
      }
    </style>
    <slot></slot>
    `}};lt=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s}([r("m-error")],lt);var st=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},pt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ct=class extends oe{constructor(){super(...arguments),this.close=")",this.open="(",this.separators=","}render(){return L`
    <style>
      ${ue}
      :host {
        display: inline-block;
      }
      #mfencedRow {
        align-items: stretch;
      }
    </style>
    <div id="mfencedRow" class="horizontal layout center"></div>
    <div style="display: hidden;">
      <slot @slotchange="${this.refreshSlot}"></slot>
    </div>
    `}updated(){this.refreshSlot()}isStretchyString(e){return!e.match(/^[0-9a-zA-Z,;\-_`'"]*$/)}nextSeparator(e){return 0<=e&&this.separators.length?e<this.separators.length?this.separators.charAt(e):this.separators.charAt(this.separators.length-1):null}refreshSlot(){if(!this.shadowRoot)return;const e=this.shadowRoot.querySelector("slot"),t=this.shadowRoot.querySelector("#mfencedRow");if(e&&t){const n=e.assignedNodes().filter(e=>e.nodeType===Node.ELEMENT_NODE);if(n.length){for(;t.firstChild;)t.removeChild(t.firstChild);let e=0;for(let r=0;r<n.length;r++){if(0==r&&this.open){const e=new fe;this.isStretchyString(this.open.trim())&&(e.stretchy="true"),e.textContent=this.open,t.appendChild(e)}if(t.appendChild(n[r]),r<n.length-1){const n=this.nextSeparator(e);if(n){e++;const r=new fe;this.isStretchyString(n)&&(r.stretchy="true"),r.textContent=n,t.appendChild(r)}}if(r==n.length-1&&this.close){const e=new fe;this.isStretchyString(this.close.trim())&&(e.stretchy="true"),e.textContent=this.close,t.appendChild(e)}}}}}};st([ne({type:String}),pt("design:type",Object)],ct.prototype,"close",void 0),st([ne({type:String}),pt("design:type",Object)],ct.prototype,"open",void 0),st([ne({type:String}),pt("design:type",Object)],ct.prototype,"separators",void 0),ct=st([r("m-fenced")],ct);var ut=function(e,t,n,o){var a,l=arguments.length,s=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;0<=p;p--)(a=e[p])&&(s=(3>l?a(s):3<l?a(t,n,s):a(t,n))||s);return 3<l&&s&&Object.defineProperty(t,n,s),s},ht=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let gt=class extends oe{render(){return L`
    <style>
      :host {
        display: inline-block;
      }
    </style>
    <div id="mpaddedPanel"><slot></slot></div>
    `}updated(){this.refresh()}refresh(){if(!this.shadowRoot)return;const e=this.shadowRoot.querySelector("#mpaddedPanel");e&&setTimeout(()=>{const t=e.getBoundingClientRect();this.height?"+"===this.height.charAt(0)?this.style.paddingTop=this.height.substring(1):"-"===this.height.charAt(0)?(this.style.height=`calc(${t.height}px - ${this.height.substring(1)})`,this.style.paddingTop="0"):(this.style.height=this.height,this.style.paddingTop="0"):(this.style.height="auto",this.style.paddingTop="0"),this.style.width=this.width?"+"===this.width.charAt(0)||"-"===this.width.charAt(0)?`calc(${t.width}px + ${this.width.substring(1)})`:this.width:"auto",console.log(t)},50)}};ut([ne({type:String}),ht("design:type",String)],gt.prototype,"height",void 0),ut([ne({type:String}),ht("design:type",String)],gt.prototype,"width",void 0),gt=ut([r("m-padded")],gt)})();
